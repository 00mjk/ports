$OpenBSD: patch-src_runtime_os_linux_go,v 1.1 2021/07/11 14:44:56 jsing Exp $

Index: src/runtime/os_linux.go
--- src/runtime/os_linux.go.orig
+++ src/runtime/os_linux.go
@@ -502,3 +502,13 @@ func tgkill(tgid, tid, sig int)
 func signalM(mp *m, sig int) {
 	tgkill(getpid(), int(mp.procid), sig)
 }
+
+//go:nosplit
+func osyield_no_g() {
+	osyield()
+}
+
+//go:nosplit
+func usleep_no_g(usec uint32) {
+	usleep(usec)
+}
