$OpenBSD: patch-library_std_src_sys_unix_stack_overflow_rs,v 1.3 2021/08/15 13:38:04 semarie Exp $
Use MAP_STACK for stack allocation.
Index: library/std/src/sys/unix/stack_overflow.rs
--- library/std/src/sys/unix/stack_overflow.rs.orig
+++ library/std/src/sys/unix/stack_overflow.rs
@@ -147,7 +147,7 @@ mod imp {
             ptr::null_mut(),
             SIGSTKSZ + page_size(),
             PROT_READ | PROT_WRITE,
-            MAP_PRIVATE | MAP_ANON,
+            MAP_PRIVATE | MAP_ANON | libc::MAP_STACK,
             -1,
             0,
         );
