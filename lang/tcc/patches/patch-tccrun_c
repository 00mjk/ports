$OpenBSD: patch-tccrun_c,v 1.1 2021/07/09 15:47:05 jasper Exp $

Add register definitions for OpenBSD/riscv64

Index: tccrun.c
--- tccrun.c.orig
+++ tccrun.c
@@ -733,6 +733,9 @@ static void rt_getcontext(ucontext_t *uc, rt_context *
 #elif defined(__aarch64__)
     rc->ip = uc->uc_mcontext.pc;
     rc->fp = uc->uc_mcontext.regs[29];
+#elif defined(__riscv) && defined(__OpenBSD__)
+    rc->ip = uc->sc_sepc;
+    rc->fp = uc->sc_s[0];
 #elif defined(__riscv)
     rc->ip = uc->uc_mcontext.__gregs[REG_PC];
     rc->fp = uc->uc_mcontext.__gregs[REG_S0];
