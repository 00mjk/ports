$OpenBSD: patch-src_actions_cpp,v 1.2 2019/02/14 09:55:40 jca Exp $

XXX

"By default pthread mutexes aren't recursive, this would be a problem if exiv2
actually wants recursive mutexes.  With no static initializer for this type of
mutex, I'll admit that it's a bit cumbersome to use." -- jca@

Index: src/actions.cpp
--- src/actions.cpp.orig
+++ src/actions.cpp
@@ -2024,6 +2024,8 @@ namespace {
    #else
     static pthread_mutex_t cs =  PTHREAD_MUTEX_INITIALIZER;
   #endif
+ #elif defined(__OpenBSD__)
+  static pthread_mutex_t cs =  PTHREAD_MUTEX_INITIALIZER;
  #else
   #if defined(PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP)
     static pthread_mutex_t cs =  PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP;
