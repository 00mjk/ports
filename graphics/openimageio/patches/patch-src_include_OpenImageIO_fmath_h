$OpenBSD: patch-src_include_OpenImageIO_fmath_h,v 1.1 2021/08/31 07:31:14 ajacoutot Exp $

From 05a5448c3ec8c75d7e859099315c452e39729a9b Mon Sep 17 00:00:00 2001
From: Larry Gritz <lg@larrygritz.com>
Date: Tue, 8 Jun 2021 18:56:31 -0700
Subject: [PATCH] Fix to accommodate changed preprocessor name in imath master. (#2996)

Index: src/include/OpenImageIO/fmath.h
--- src/include/OpenImageIO/fmath.h.orig
+++ src/include/OpenImageIO/fmath.h
@@ -949,7 +949,7 @@ inline void convert_type<uint16_t,float> (const uint16
 }
 
 
-#ifdef _HALF_H_
+#if defined(_HALF_H_) || defined(IMATH_HALF_H_)
 template<>
 inline void convert_type<half,float> (const half *src,
                                       float *dst, size_t n,
@@ -1017,7 +1017,7 @@ convert_type<float,uint8_t> (const float *src, uint8_t
 }
 
 
-#ifdef _HALF_H_
+#if defined(_HALF_H_) || defined(IMATH_HALF_H_)
 template<>
 inline void
 convert_type<float,half> (const float *src, half *dst, size_t n,
