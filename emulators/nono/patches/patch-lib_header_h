$OpenBSD: patch-lib_header_h,v 1.1.1.1 2020/07/06 17:42:25 gonzalo Exp $

Index: lib/header.h
--- lib/header.h.orig
+++ lib/header.h
@@ -144,12 +144,16 @@ DEF_UNION64(union64, q, h, l);
 // NetBSD は pthread_setname_np(threadID, name, arg) だが
 // Linux  は pthread_setname_np(threadID, name) で
 // MacOSX は pthread_setname_np(name) だったりする。
+// OpenBSD は pthread_set_name_np(name) になっている。
 // 今の所 NetBSD でも arg はいらないので(というか NetBSD の name, arg の
 // デザインはおかしい)、引数1つバージョンに揃えることにする。
 #if HAVE_PTHREAD_SETNAME_NP == 3
 #define pthread_setname_np(name) pthread_setname_np(pthread_self(), name, NULL)
 #elif HAVE_PTHREAD_SETNAME_NP == 2
 #define pthread_setname_np(name) pthread_setname_np(pthread_self(), name)
+#elif defined(HAVE_PTHREAD_SET_NAME_NP)
+#include <pthread_np.h>
+#define pthread_setname_np(name) pthread_set_name_np(pthread_self(), name)
 #endif
 
 // 便利マクロ
