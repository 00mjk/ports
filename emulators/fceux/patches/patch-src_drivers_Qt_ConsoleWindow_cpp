$OpenBSD: patch-src_drivers_Qt_ConsoleWindow_cpp,v 1.1 2021/10/29 10:13:16 bentley Exp $

Index: src/drivers/Qt/ConsoleWindow.cpp
--- src/drivers/Qt/ConsoleWindow.cpp.orig
+++ src/drivers/Qt/ConsoleWindow.cpp
@@ -3817,7 +3817,7 @@ int consoleWin_t::getSchedParam( int &policy, int &pri
 {
 	int ret = 0;
 
-#if defined(__linux__) || defined(__unix__)
+#if defined(__linux__)
 	struct sched_param  p;
 
 	policy = sched_getscheduler( getpid() );
@@ -3833,7 +3833,7 @@ int consoleWin_t::getSchedParam( int &policy, int &pri
 		priority = p.sched_priority;
 	}
 
-#elif defined(__APPLE__)
+#elif defined(__APPLE__) || defined(__OpenBSD__)
 	struct sched_param  p;
 
 	if ( pthread_getschedparam( pthread_self(), &policy, &p ) )
@@ -3853,7 +3853,7 @@ int consoleWin_t::getSchedParam( int &policy, int &pri
 int consoleWin_t::setSchedParam( int policy, int priority )
 {
 	int ret = 0;
-#if defined(__linux__) || defined(__unix__)
+#if defined(__linux__)
 	struct sched_param  p;
 	int minPrio, maxPrio;
 
@@ -3875,7 +3875,7 @@ int consoleWin_t::setSchedParam( int policy, int prior
 		perror("GUI thread sched_setscheduler error");
 		ret = -1;
 	}
-#elif defined(__APPLE__)
+#elif defined(__APPLE__) || defined(__OpenBSD__)
 	struct sched_param  p;
 	int minPrio, maxPrio;
 
