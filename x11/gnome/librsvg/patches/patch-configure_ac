From 14a7d3853e586694d814de13ad6bd39dc0bb89c4 Mon Sep 17 00:00:00 2001
From: Kleis Auke Wolthuizen <github@kleisauke.nl>
Date: Thu, 24 Mar 2022 18:40:37 +0100
Subject: [PATCH] (#859): Make rst2man and gi-docgen optional

Index: configure.ac
--- configure.ac.orig
+++ configure.ac
@@ -117,15 +117,17 @@ dnl Man page generator
 
 AC_CHECK_PROGS(RST2MAN, [rst2man rst2man.py], [no])
 AS_IF(test x$RST2MAN = xno,
-    AC_MSG_ERROR([rst2man is required.  Please install python3-docutils.])
+    AC_MSG_WARN([rst2man not found - not building man pages])
 )
+AM_CONDITIONAL(HAVE_RST2MAN, [test "x$RST2MAN" != "xno"])
 
 dnl Gi-docgen
 
 AC_CHECK_TOOL(GI_DOCGEN, [gi-docgen], [no])
 AS_IF(test x$GI_DOCGEN = xno,
-    AC_MSG_ERROR([gi-docgen is required.  Please install it.])
+    AC_MSG_WARN([gi-docgen not found - not building docs])
 )
+AM_CONDITIONAL(HAVE_GI_DOCGEN, [test "x$GI_DOCGEN" != "xno"])
 
 dnl ===========================================================================
 
