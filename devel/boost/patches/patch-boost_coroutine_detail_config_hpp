$OpenBSD: patch-boost_coroutine_detail_config_hpp,v 1.1 2021/09/03 23:23:31 sthen Exp $

Use mmap(2) MAP_STACK to allocate stacks on OpenBSD.

Index: boost/coroutine/detail/config.hpp
--- boost/coroutine/detail/config.hpp.orig
+++ boost/coroutine/detail/config.hpp
@@ -38,4 +38,9 @@
 #define BOOST_COROUTINES_UNIDIRECT
 #define BOOST_COROUTINES_SYMMETRIC
 
+#if defined(__OpenBSD__)
+// stacks need mmap(2) with MAP_STACK
+# define BOOST_COROUTINES_USE_MAP_STACK
+#endif
+
 #endif // BOOST_COROUTINES_DETAIL_CONFIG_H
