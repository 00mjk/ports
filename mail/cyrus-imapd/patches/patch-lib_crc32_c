$OpenBSD: patch-lib_crc32_c,v 1.3 2021/05/14 07:20:12 jasper Exp $

https://github.com/cyrusimap/cyrus-imapd/commit/d9ee6586e3b87840761421bd24ec5a87f80a3e50
https://github.com/cyrusimap/cyrus-imapd/commit/d325540ef40104429bb69769f000b46a4e8db48d

Index: lib/crc32.c
--- lib/crc32.c.orig
+++ lib/crc32.c
@@ -613,7 +613,7 @@ static const uint32_t crc32_lookup[16][256] =
 
 #if BYTE_ORDER != LITTLE_ENDIAN
 /* swap endianness */
-# if defined(__GNUC__) && __GNUC_PREREQ(4, 3)
+# if defined(__GNUC__) && ((__GNUC__ == 4 && __GNUC_MINOR__ >= 3) || __GNUC__ > 4)
 #  define swap(x) __builtin_bswap32(x)
 # else
 #  ifdef HAVE_DECLARE_OPTIMIZE
