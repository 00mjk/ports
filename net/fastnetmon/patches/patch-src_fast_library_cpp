$OpenBSD: patch-src_fast_library_cpp,v 1.1 2020/06/25 07:28:29 jasper Exp $

Revert https://github.com/pavel-odintsov/fastnetmon/commit/87b102d8b004322861e828edbe51bdbca77a1436
which requires SIOCGIFINDEX (not supported on OpenBSD).

Index: src/fast_library.cpp
--- src/fast_library.cpp.orig
+++ src/fast_library.cpp
@@ -1295,22 +1295,3 @@ bool convert_hex_as_string_to_uint(std::string hex, ui
 
     return ss.fail();
 }
-
-// Get interface number by name
-bool get_interface_number_by_device_name(int socket_fd, std::string interface_name, int& interface_number) {
-    struct ifreq ifr;
-    memset(&ifr, 0, sizeof(ifr));
-
-    if (interface_name.size() > IFNAMSIZ) {
-        return false;
-    }
-
-    strncpy(ifr.ifr_name, interface_name.c_str(), sizeof(ifr.ifr_name));
-
-    if (ioctl(socket_fd, SIOCGIFINDEX, &ifr) == -1) {
-        return false;
-    }
-
-    interface_number = ifr.ifr_ifindex;
-    return true;
-}
