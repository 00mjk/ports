$OpenBSD: patch-src_if_c,v 1.1 2020/10/02 19:29:32 kn Exp $

22.09.2020 e675d4dde0 "BSD: Detect initial link state in ifa_data"
fixes dhcpcd on pppoe(4), remove with next release.

Index: src/if.c
--- src/if.c.orig
+++ src/if.c
@@ -682,7 +682,7 @@ if_discover(struct dhcpcd_ctx *ctx, struct ifaddrs **i
 
 		ifp->active = active;
 		if (ifp->active)
-			ifp->carrier = if_carrier(ifp);
+			ifp->carrier = if_carrier_ifadata(ifp, ifa->ifa_data);
 		else
 			ifp->carrier = LINK_UNKNOWN;
 		TAILQ_INSERT_TAIL(ifs, ifp, next);
